(function(e){var o={init:function(){o.ready()},ready:function(){e(".message .close").on("click",function(){e(this).closest(".message").transition("fade")}),e(".option-show-form").on("mouseenter",function(o){e(this).children().find(".menu-button").show()}),e(".option-show-form").on("mouseleave",function(o){e(".menu-button").hide()}),e(".short-code-copy").on("click",function(o){var t=e(this).text(),n=document.createElement("textarea");document.body.appendChild(n),n.value=t,n.select(),document.execCommand("copy"),document.body.removeChild(n)}),e("#show_form").DataTable(),e(".new-form").on("click",function(o){o.preventDefault(),e(".modal_template").modal("show")}),e(".form-template").on("click",function(o){o.preventDefault();var t=e(this).data("template-name");e(".modal_create_form").modal("show"),e(".create-form").attr("data-template",t)}),e(".create-form").on("click",function(t){t.preventDefault();var n=e("#form_name").val(),a=e(this).data("template"),i=e("#nonce_create").val();o.Create_Form(n,a,i)}),e(".delete-form").click(function(){let t="Do you want to delete form ?";if(1==confirm(t)){var n=e(this).data("id"),a=e(this).data("nonce");o.Delete_Form(n,a)}}),e(".duplicate-form").on("click",function(){let t="Do you want to Duplicate form ?";if(1==confirm(t)){var n=e(this).data("id"),a=e(this).data("nonce");o.Duplicate_Form(n,a)}}),e(".btn_import_form").on("click",function(){e("#import_form").click()}),e("#import_form").on("change",function(){var t=e("#nonce_create").val(),n=new FileReader;file=this.files[0];let a=file.name;a=a.substring(0,a.length-5),n.readAsText(file),n.onload=function(){let e=JSON.parse(n.result);o.Import_Form(a,e,t)}})},Create_Form:function(o,t,n){var a={title:o,template:t,nonce:n,action:"new_form"};e.post(codex_admin.ajax_url,a,function(e){e.success?window.location.href=e.data.redirect:alert("Something went wrong")}).fail(function(e,o,t){console.log(e.responseText)})},Delete_Form:function(o,t){var n={id:o,nonce:t,action:"delete_form"};e.post(codex_admin.ajax_url,n,function(e){e.success?window.location.href=e.data.redirect:alert("Something went wrong")}).fail(function(e,o,t){console.log(e.responseText)})},Duplicate_Form:function(o,t){var n={id:o,nonce:t,action:"duplicate_form"};e.post(codex_admin.ajax_url,n,function(e){e.success?window.location.href=e.data.redirect:alert("Something went wrong")}).fail(function(e,o,t){console.log(e.responseText)})},Import_Form:function(o,t,n){t={title:o,data:t,nonce:n,action:"new_form"};e.post(codex_admin.ajax_url,t,function(e){e.success?window.location.href=e.data.redirect:alert("Something went wrong")}).fail(function(e,o,t){console.log(e.responseText)})}};o.init()})(jQuery);