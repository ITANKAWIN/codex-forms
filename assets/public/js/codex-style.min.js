jQuery(function(a){var e={init:function(){a(e.ready)},ready:function(){a(".codex_forms_form").find("[disabled]").removeAttr("disabled"),a(".ui.dropdown").dropdown(),a(".codex_forms_form").on("submit",function(t){t.preventDefault();var r=JSON.stringify(a(".codex_forms_form").serializeArray());e.formEntry(r)}),a("button[type='reset']").on("click",function(e){a(".codex_forms_form")[0].reset()}),a(".codex-rating").rating("setting","onRate",function(e){var t=a(this).data("id");a('input[name="field_id['+t+']"]').val(e)}),a(".codex-range").on("change",function(){var e=a(this).data("id");a("#"+e).html(a(this).val())})},formEntry:function(e){var t=a(".layout-panel").find("input[type=file]"),r="";t.length>0&&(r=t[0].files[0]);a("input:checkbox").map(function(){return{name:this.name,value:this.checked?this.value:"false"}});form_data=new FormData,form_data.append("data",e),form_data.append("file",r),form_data.append("file_id",t.attr("id")),"login"==a(".layout-panel").data("template")?form_data.append("action","submit_form_login"):"register"==a(".layout-panel").data("template")?form_data.append("action","submit_form_register"):form_data.append("action","submit_form"),a.ajax({url:codex_admin.ajax_url,type:"POST",contentType:!1,processData:!1,data:form_data,success:function(e){if(e.success)alert(e.data.succ_msg),""===e.data.redirect?a(".layout-panel").html(e.data.succ_msg):window.location=e.data.redirect;else if(e.data.error_msg.length>0){a(".ui.red.message").remove();var t="";for(msg in e.data.error_msg)t+='<div class="item">'+e.data.error_msg[msg]+"</div>";a(".layout-panel").prepend('<div class="ui red message">'+t+"</div>")}else alert(e.data.err_msg),""===e.data.err_redirect||(window.location=e.data.err_redirect)},error:function(){alert("something went wrong")}})}};e.init()});